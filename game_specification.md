# MORTIPACK ～袋に注意！～ (Mobile Version) 仕様書

## 1. ゲーム概要
**タイトル**: MORTIPACK ～袋に注意！～ (Mobile Version)
**ジャンル**: ローグライク / ホラー / パズル
**プラットフォーム**: Webブラウザ (モバイル対応)
**画面構成**: 正方形のゲーム画面 + インベントリ/操作パネル

## 2. ゲームの目的
プレイヤーはダンジョンを探索し、各フロアにある「鍵」を見つけ出し、「扉」から次のフロアへ脱出することを目指します。
ダンジョン内には敵（モーティパック）が徘徊しており、捕まるとゲームオーバーになります。

## 3. ゲームシステム

### 基本ルール
- **ターン制**: プレイヤーが1回行動すると、敵も1回行動します。
- **視界（Fog of War）**: プレイヤーの周囲と、一度通った場所のみが表示されます。未探索エリアは暗闇です。
- **ダンジョン生成**: フロアごとにランダムなダンジョン（部屋と通路）が生成されます。

### エンティティ
- **プレイヤー**:
    - 青い円（画像読み込み前）またはプレイヤー画像で表示。
    - HPの概念はなく、敵に捕まると即死（アイテム「身代わり人形」がある場合を除く）。
- **敵（モーティパック）**:
    - 赤い円（画像読み込み前）または敵画像で表示。
    - プレイヤーを追跡してきます。
    - 一定ターン経過（100ターン毎）で新しい敵が追加されます。
    - **ゴーストタイム**: ランダムで発生し、敵がプレイヤーに向かって積極的に移動するモードになります。

### インタラクション
- **移動**: 上下左右に移動可能。壁は通れません。
- **調べる (Search)**:
    - 棚（茶色の四角）を調べることができます。
    - 棚には「アイテム」、「鍵」、または「空っぽ」のいずれかが設定されています。
    - 調べた棚は見た目が変わります。

## 4. 操作方法
画面下のボタンまたはキーボードで操作します。

| アクション | キーボード | 画面ボタン |
| :--- | :--- | :--- |
| 上移動 | ArrowUp | ↑ |
| 下移動 | ArrowDown | ↓ |
| 左移動 | ArrowLeft | ← |
| 右移動 | ArrowRight | → |
| 調べる | E | Srch |

## 5. アイテム一覧
入手したアイテムはインベントリに表示され、タップ/クリックで使用できます（一部自動効果）。

| アイテム名 | 効果 |
| :--- | :--- |
| **鍵 (Key)** | 次のフロアへの扉を開けるために必要。使用すると消費。 |
| **ラジカセ (Radio)** | 敵全員の動きを10ターン停止させる。 |
| **資料 (Doc)** | 取得時にスコア+200。インベントリには残らない。 |
| **探知機 (Hallucinogen)** | 敵の位置を10ターン表示する（視界外でも見える）。 |
| **ワープコイン (Warpcoin)** | フロア内のランダムな位置にテレポートする。 |
| **マップ (Map)** | 未探索のマップをランダムに3箇所（周辺含む）開放する。 |
| **タリスマン (Talisman)** | 敵をランダムに1体消滅させる。 |
| **身代わり人形 (Doll)** | 所持している状態で敵に接触すると、死亡を防ぎ、その敵を5ターン停止させる。消費アイテム。 |

## 6. ゲームモード

### エンドレスモード (Endless Mode)
- 階層制限なし。
- ゲームオーバーになるまでひたすら深く潜り、ハイスコアを目指すモード。

### ストーリーモード (Story Mode)
- 全7階層（F1, F2, B1, B2, B3, B4, B5）。
- B5（実質7階層目）をクリアするとエンディングとなり、ゲームクリア。
- 開始時と終了時にストーリー演出（画像表示）あり。
- 敵の出現数がエンドレスモードより若干少なめに設定されています。

## 7. スコアリング
- **移動ボーナス**: 敵の近く（距離2以内）に移動すると+15点、それ以外で敵に近いと+10点。
- **アイテム入手**: 基本+50点（鍵は+15点、資料は+200点）。
- **隠しキャラ発見**: 特定のマスに隠れているキャラ（オレンジ帽子/パックメイト）を見つけると+1000点。
- **フロアクリア**: 現在のスコア × (階層 + 2) の倍率ボーナス（演出あり）。

## 8. その他仕様
- **BGM/SE**: タイトル画面、ステージ、アイテム入手音などが設定されています。
- **ゲームオーバー**: 敵に捕まると「GAME OVER」画面になり、リスタートかタイトルへ戻るか選択可能。
- **勝利 (Victory)**: ストーリーモードクリア時、またはエンドレスモードで次の階へ進む際に表示。
